## 算法系列 1

---

## 算法的重要性

- 根本角度，研发工程师的硬技能之一
- 现实功利角度，面试
- 日常工作角度，锻炼逻辑思维，帮助写出更简洁优雅的代码

---

## 前端工作有用到算法吗？

需要对地理位置进行级联化展示，例子：[antd cascader](https://ant.design/components/cascader-cn/)，地理位置的数据由后端接口提供：

```
[
  {
    province: '广东',
    city: '广州',
    district: '天河',
  },
  {
    province: '广东',
    city: '广州',
    district: '海珠',
  },
  {
    province: '广东',
    city: '佛山',
    district: '禅城',
  },
  {
    province: '四川',
    city: '成都',
    district: '双流',
  },
]
```

需要把扁平化数据转化成级联化组件所需要的格式：

```
[
  {
    value: '广东',
    children: [
      {
        value: '广州',
        children: [
          { value: '天河' },
          { value: '海珠' },
        ]
      },
      {
        value: '佛山',
        children: [
          { value: '禅城' },
        ]
      },
    ],
  },
  {
    value: '四川',
    children: [
      {
        value: '成都',
        children: [
          { value: '双流' }
        ],
      },
    ],
  },
]
```

---

```TypeScript
/**
 * 给一个 number[] 类型的数组，每个元素的值都是非负数
 * a1, a2, ...... an，每个数代表坐标中的一个点（i, ai）
 * 在坐标内画 n 条垂直线，垂直线 i 的两个端点分别是（i, ai）（j, aj）
 * 找出其中两条线，使得它们与 x 轴共同构成的容器可以容纳最多的水
 * 返回最大的容纳水的面积
 *
 * @param {number[]} heights
 * @returns number
 */
function containerWithMostWater (heights: number[]): number {

}

// test case
const heights = [6, 2, 4, 3, 9, 10, 7]
// output = 32 (10 - 2) * 4
```

---

翻转数组

```TypeScript
/**
 * 把数组逆序排列
 *
 * @param {any[]} items
 * @returns void
 */
function reverseArray (items: any[]): void {

}

// test case
const nums = [1, 2, 3, 4];
// 反转后，nums = [4, 3, 2, 1]
```

---

合并有序数组

```TypeScript
/**
 * 把两个有序数组，合并成一个有序数组
 *
 * @param {number[]} nums1
 * @param {number[]} nums2
 * @returns number[]
 */
function mergeSortedArrays (nums1: number[], nums2: number[]): number[] {

}

// test case
const nums1 = [1, 3, 5];
const nums2 = [-1, 4, 7, 10, 10];
// output
// [-1, 1, 3, 4, 5, 7, 10, 10]
```

---

# 双指针法

- 首尾夹逼，反方向移动：逆转、最接近（等于）
- 同一方向移动：合并、特殊情况（快慢指针）

备注：二分查找是双指针的一种特殊情况

---

链表是否有环？

```TypeScript
class SingleLinkedList<T> {

  public head: ListNode<T> | null;

  constructor () {
    this.head = null;
  }
}

class ListNode<T> {

  public val: T;
  public next: ListNode<T> | null;

  constructor (val: T) {
    this.val = val;
    this.next = null;
  }
}
```

```TypeScript
/**
 * 判断链表是否有环
 *
 * @param {SingleLinkedList} list
 * @returns boolean
 */
function hasCycle (list: SingleLinkedList): boolean {

}

// test case
const node1 = new ListNode(1);
const node2 = new ListNode(2);
const node3 = new ListNode(3);
const node4 = new ListNode(4);

node1.next = node2;
node2.next = node3;
node3.next = node4;
node4.next = node2;

// output: true
```

---

```TypeScript
/**
 * 给定两个数组，以及一个 target
 * 在两个数组中各自找出一个元素，组成一对，使得两个元素的和最接近于 target
 *
 * @param {number[]} nums1
 * @param {number[]} nums2
 * @param {number} target
 * @returns number[]
 */
function findPair (
  nums1: number[],
  nums2: number[],
  target: number
): number[] {

}

// test case
const nums1 = [6, 3, -1, 4, 2, 7];
const nums2 = [10, 3, -6, 3];
const target = 20;
// output 17
```

---

## 总结 - 双指针

用到的场景：

- 数组
- 字符串（由单个字符组成的数组）
- 链表（结构类似于数组）
- 逆序、合并、查找最接近（等于）、最大（小）等等

方法：

- 同一方向，快慢指针
- 相反方向，首尾夹逼
